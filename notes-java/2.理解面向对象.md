# 理解面向对象

### 概述

Java语言是纯粹的面向对象的程序设计语言，这主要表现为 Java 完全支持面向对象的三种基本特征:继承、封装和多态。Java语言完全以对象为中心，Java程序的最小程序单位是类，整个Java程序由一个一个的类组成。

#### 结构化程序设计

结构化程序设计方法主张按功能来分析系统需求，其主要原则可概括为自顶向下、逐步求精 、模块化等。

因为结构化程序设计方法主张按功能把软件系统逐步细分，因此这种方法也被称为面向功能的程序设计方法: 结构化程序设计的每个功能都负责对数据进行一次处理，每个功能都接受一些数据，处理完后输出 一些数据，这种处理方式也被称为面向数据流的处理方式。

结构化程序设计里最小的程序单元是函数，每个函数都负责完成一个功能，用以接收一些输入数据，函数对这些输入数据进行处理，处理结束后输出一些数据。 整个软件系统由一个个函数组成，其中作为程序入口的函数被称为主函数，主函数依次调用其他普通函数，普通函数之间依次调用，从而完成整个软件系统的功能 。 

结构化程序设计方式的局限性：

- 设计不够直观，与人类习惯思维不一致。采用结构化程序分析、设计时，开发者需要将客观世界模型分解成一个个功能，每个功能用以完成一定的数据处理。
- 适应性差 ，可扩展性不强。 由于结构化设计采用自顶向下的设计方式，所以当用户的需求发生改变，或需要修改现有的实现方式时，都需要自顶向下地修改模块结构，这种方式的维护成本相当高。

> 采用结构化方式设计的软件系统，整个软件系统就由一个个函数组成，这个软件的运行入口往往由一个“主函数”代表，而主函数负责把系统中的所有函数“串起来”。

### 程序的三种基本结构

结构化程序设计非常强调实现某个功能的算法，而算法的实现过程是由 一系列操作组成的，这些操作之间的执行次序就是程序的控制结构。

- 顺序结构

  - 顺序结构表示，程序中的各操作是按照它们在源代码中的排列顺序依次执行的。

  > 虽然 Java是面向对象的编程语言，但 Java的方法类似于结构化程序设计的函数，因此方法中代码的执行也是顺序结构。

- 选择结构

  - 选择结构表示，程序的处理需要根据某个特定的条件选择其中的一个分支执行。
  - 选择结构有单选择 、 双选择和多选择三种形式 。 

- 循环结构

  - 条件结构表示，程序反复执行某个或某些操作，直到某条件为假(或为真〉时才停止循环。
  - 条件结构分为当型循环和直到型循环。

### 面向对象程序设计

- 面向对象是一种更优秀的程序设计方法，它的基本思想是使用类、对象、继承、封装、消息等基本概念进行程序设计。
- 面向对象从现实世界中客观存在的事物(即对象)出发来构造软件系统，并在系统构造中尽可能运用人类的自然思维方式，强调直接以现实世界中的事物(即对象)为中心来思考，认识问题， 并根据这些事物的本质特点，把它们抽象地表示为系统中的类，作为系统的基本构成单元(而不是用一些与现实世界中的事物相关比较远，并且没有对应关系的过程来构造系统)，这使得软件系统的组件可以直接映像到客观世界，并保持客观世界中事物及其相互关系的本来面貌。 
- 成员变量(状态数据) +方法(行为) = 类定义。

### 面向对象的基本特征

面向对象方法具有三个基本特征：封装、继承和多态。

- 封装
  - 封装指的是将对象的实现细节隐藏起来， 然后通过 一些公用方法来暴露该对象的功能。

- 继承
  - 继承是面向对象实现软件复用的重要手段，当子类继承父类后，子类作为一种特殊的父类，将直接获得父类的属性和方法。

- 多态
  - 多态指的是子类对象可以直接赋给父类变量，但运行时依然表现出子类的行为特征，这意味着同一个类型的对象在执行同一个方法时，可能表现出多种行为特征。

### 比较面向对象和基于对象

在编程语言领域，还有 一个“基于对象”的概念， 这两个概念极易混淆。

通常而言，“基于对象”也使用了对象，但是无法利用现有的对象模板产生新的对象类型，继而产生新的对象，也就是说，“基于对象”没有继承的特点；而“多态”则更需要继承，没有了继承的概念也就无从谈论“多态”。

面向对象方法的三大基本特征(封装、继承、多态)缺一不可。例如， JavaScript语言就是基于对象的，它使用一些封装好的对象，调用对象的方法，设置对象的属性:但是它们无法让开发者派生新的类，开发者只能使用现有对象的方法和属性。 

### Java的面向对象特征

#### 1. 一切皆是对象

Java是纯粹的面向对象编程语言，完全支持面向对象的三大基本特征：封装 、 继承和多态。 Java程序的组成单位就是类，不管多大的 Java 应用程序，都是由 一个个类组成的。 

在 Java语言中，除8个基本数据类型值之外，一切都是对象，而对象就是面向对象程序设计的中心。 对象是人们要进行研究的任何事物，从最简单的整数到复杂的飞机等均可看作对象，它不仅能表示具体的事物，还能表示抽象的规则、计划或事件。 

对象是 Java程序的核心，所以 Java里的对象具有唯一性，每个对象都有一个标识来引用它，如果某个对象失去了标识，这个对象将变成垃圾，只能等着系统垃圾回收机制来回收它。 Java语言不允许直接访问对象，而是通过对对象的引用来操作对象。 

#### 2. 类和对象

具有相同或相似性质 的一组对象的抽象就是类，类是对一类事物的描述，是抽象的、概念上的定义: 对象是实际存在的该类事物的个体，因而也称为实例( instance)。 

对象的抽象化是类，类的具体化就是对象，也可以说类的实例是对象。类用来描述一系列对象，类概述每个对象应包括的数据，类概述每个对象的行为特征。 因此，可以把类理解成某种概念、定义，它规定了某类对象所共同具有的数据和行为特征 。 

在客观世界中有若干类，这些类之间有一定的结构关系。 通常有如下两种主要的结构关系：

- 一般→特殊关系

  - 这种关系就是典型的继承关系， Java语言使用extends关键字来表示这种继承关系， Java的子类是一种特殊的父类。因此，这种一般→特殊的关系其实是一种“is a”关系。

    > 在讲授面向对象时经常提的一个概念一一 一般 → 特殊的关系也可代表大类和小类的关系。 比如水果→苹果，就是典型的一般→特殊的关系，苹果 is a水果，水果的范围是不是比苹果的范围大呢？所以可以认为 : 父类也可被称为大类，子类也可被称为 小类 。 

- 整体→部分结构关系 : 

  - 也被称为组装结构，这是典型的组合关系， Java 语言通过在一个类里保存另一个对象的引用来实现这种组合关系 。 因此，这种整体→部分结构关系其实是一种“has a”关系 。 